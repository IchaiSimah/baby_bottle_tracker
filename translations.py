TRANSLATIONS = {
    # General errors and info
    "error_load_data": {
        "fr": "❌ Oups ! Impossible de charger vos données pour le moment. Veuillez réessayer.",
        "en": "❌ Oops! Unable to load your data at the moment. Please try again.",
        "he": "❌ אופס! לא ניתן לטעון את הנתונים שלך כרגע. אנא נסה שוב."
    },
    "error_find_group": {
        "fr": "❌ Oups ! Impossible de trouver votre groupe. Veuillez réessayer.",
        "en": "❌ Oops! Unable to find your group. Please try again.",
        "he": "❌ אופס! לא ניתן למצוא את הקבוצה שלך. אנא נסה שוב."
    },
    "error_create_group": {
        "fr": "❌ Oups ! Impossible de trouver ou créer votre groupe personnel pour le moment. Merci de réessayer plus tard.",
        "en": "❌ Oops! Unable to find or create your personal group at the moment. Please try again later.",
        "he": "❌ אופס! לא ניתן למצוא או ליצור את הקבוצה האישית שלך כרגע. אנא נסה שוב מאוחר יותר."
    },
    "error_unknown_action": {
        "fr": "❌ Action inconnue. Veuillez réessayer.",
        "en": "❌ Unknown action. Please try again.",
        "he": "❌ פעולה לא מוכרת. אנא נסה שוב."
    },
    "error_invalid_time": {
        "fr": "❌ Format d'heure invalide. Veuillez réessayer avec un format comme 14:30.",
        "en": "❌ Invalid time format. Please try again with a format like 14:30.",
        "he": "❌ פורמט שעה לא תקין. אנא נסה שוב בפורמט כמו 14:30."
    },
    "error_invalid_amount": {
        "fr": "❌ Quantité invalide. Veuillez réessayer.",
        "en": "❌ Invalid amount. Please try again.",
        "he": "❌ כמות לא תקינה. אנא נסה שוב."
    },
    "error_not_found_time": {
        "fr": "❌ Erreur: temps non trouvé. Veuillez recommencer.",
        "en": "❌ Error: time not found. Please start again.",
        "he": "❌ שגיאה: לא נמצא זמן. אנא התחל מחדש."
    },
    "error_general": {
        "fr": "❌ Une erreur s'est produite. Veuillez réessayer.",
        "en": "❌ An error occurred. Please try again.",
        "he": "❌ אירעה שגיאה. אנא נסה שוב."
    },
    "pdf_loading": {
        "fr": "⏳ **Génération du PDF en cours...**\n Préparation du rapport...\n Calcul des statistiques...\n Création du graphique...\n Traduction du contenu...\n Mise en page...",
        "en": "⏳ **PDF generation in progress...**\n Preparing the report...\n Calculating statistics...\n Creating the graph...\n Translating the content...\n Layout...",
        "he": "⏳ **יוצר דוח PDF...**\n מכין את הדוח...\n מחשב את הסטטיסטיקה...\n יוצר את הגרף...\n מתרגם את התוכן...\n מכין את המסך..."
    },
    "error_loading_data": {
        "fr": "❌ Impossible de charger vos données pour la période sélectionnée.",
        "en": "❌ Unable to load your data for the selected period.",
        "he": "❌ לא ניתן לטעון את הנתונים שלך לפרק המוקבץ."
    },
    # Main menu
    "main_dashboard": {
        "fr": "🍼 **Suivi Bébé - Tableau de Bord**\n\n",
        "en": "🍼 **Baby Tracker - Dashboard**\n\n",
        "he": "🍼 **מעקב תינוק - לוח בקרה**\n\n"
    },
    "main_group": {
        "fr": "**👥 Groupe :** `{}`\n\n",
        "en": "**👥 Group:** `{}`\n\n",
        "he": "**👥 קבוצה:** `{}`\n\n"
    },
    "main_last_bottles": {
        "fr": "🍼 **Derniers biberons :**\n",
        "en": "🍼 **Last bottles:**\n",
        "he": "🍼 **בקבוקים אחרונים:**\n"
    },
    "main_no_bottles": {
        "fr": "🍼 **pensez à mettre l'heure a jour dans les paramètres !**\n\n_Aucun biberon enregistré pour le moment_ 📝\n",
        "en": "🍼 **Remember to update the time in settings!**\n\n_No bottles recorded yet_ 📝\n",
        "he": "🍼 **זכור לעדכן את השעה בהגדרות!**\n\n_אין בקבוקים רשומים כרגע_ 📝\n"
    },
    "main_last_poops": {
        "fr": "💩 **Dernier{} caca{} :**\n",
        "en": "💩 **Last{} poop{}:**\n",
        "he": "💩 **החלפות חיתול אחרונות:**\n"
    },
    "main_no_poops": {
        "fr": "_Aucun changement enregistré pour le moment_ 📝\n",
        "en": "_No change recorded yet_ 📝\n",
        "he": "_אין חלפות רשומות כרגע_ 📝\n"
    },
    # Buttons
    "btn_bottle": {"fr": "🍼 Biberon", "en": "🍼 Bottle", "he": "🍼 בקבוק"},
    "btn_poop": {"fr": "💩 Caca", "en": "💩 Poop", "he": "💩 קקי"},
    "btn_delete": {"fr": "❌ Supprimer", "en": "❌ Delete", "he": "❌ מחק"},
    "btn_shabbat": {"fr": "🕯️ Shabbat", "en": "🕯️ Shabbat", "he": "🕯️ שבת"},
    "btn_stats": {"fr": "📊 Statistiques", "en": "📊 Statistics", "he": "📊 סטטיסטיקה"},
    "btn_pdf": {"fr": "📄 PDF", "en": "📄 PDF", "he": "📄 PDF"},
    "btn_settings": {"fr": "⚙️ Paramètres", "en": "⚙️ Settings", "he": "⚙️ הגדרות"},
    "btn_home": {"fr": "🏠 Accueil", "en": "🏠 Home", "he": "🏠 דף הבית"},
    "btn_cancel": {"fr": "❌ Annuler", "en": "❌ Cancel", "he": "❌ בטל"},
    "btn_refresh": {"fr": "🔄 Actualiser", "en": "🔄 Refresh", "he": "🔄 רענן"},
    
    # Add bottle flow
    "add_bottle_time_question": {
        "fr": "⏰ **À quelle heure a eu lieu ce biberon ?**\n\n*Ou tapez une heure manuellement (ex: 14:30)*",
        "en": "⏰ **What time did this bottle happen?**\n\n*Or type a time manually (ex: 14:30)*",
        "he": "⏰ **באיזו שעה היה הבקבוק הזה?**\n\n*או הקלד שעה ידנית (לדוגמה: 14:30)*"
    },
    "add_bottle_amount_question": {
        "fr": "🍼 **Quelle quantité a été bue ? (en ml)**\n\n*Ou tapez une quantité manuellement (ex: 110)*",
        "en": "🍼 **What quantity was drunk? (in ml)**\n\n*Or type a quantity manually (ex: 110)*",
        "he": "🍼 **איזו כמות נשתתה? (במ\"ל)**\n\n*או הקלד כמות ידנית (לדוגמה: 110)*"
    },
    "btn_now": {"fr": "🕐 Maintenant", "en": "🕐 Now", "he": "🕐 עכשיו"},
    "bottle_added_success": {
        "fr": "✅ **Biberon ajouté !**\n\n{}ml à {}\n\n{}",
        "en": "✅ **Bottle added!**\n\n{}ml at {}\n\n{}",
        "he": "✅ **הבקבוק נוסף!**\n\n{}מ\"ל ב-{}\n\n{}"
    },
    
    # Add poop flow
    "add_poop_time_question": {
        "fr": "⏰ **À quelle heure a eu lieu ce changement de couche ?**\n\n*Ou tapez une heure manuellement (ex: 14:30)*",
        "en": "⏰ **What time did this diaper change happen?**\n\n*Or type a time manually (ex: 14:30)*",
        "he": "⏰ **באיזו שעה הייתה החלפת החיתול הזו?**\n\n*או הקלד שעה ידנית (לדוגמה: 14:30)*"
    },
    "poop_recorded": {
        "fr": "💩 **Changement enregistré à {}**\n\nCliquez sur 'Terminer' pour enregistrer sans information supplémentaire.\n\n*Ou tapez une information si nécessaire.*",
        "en": "💩 **Change recorded at {}**\n\nClick 'Finish' to record without additional information.\n\n*Or type information if needed.*",
        "he": "💩 **החלפה נרשמה ב-{}**\n\nלחץ על 'סיים' כדי לרשום ללא מידע נוסף.\n\n*או הקלד מידע אם נדרש.*"
    },
    "btn_finish": {"fr": "✅ Terminer", "en": "✅ Finish", "he": "✅ סיים"},
    "poop_added_success": {
        "fr": "✅ **Caca enregistré à {} !**",
        "en": "✅ **Poop recorded at {}!**",
        "he": "✅ **קקי נרשם ב-{}!**"
    },
    "poop_added_with_info": {
        "fr": "✅ **Caca enregistré à {} !**\nInfo: {}",
        "en": "✅ **Poop recorded at {}!**\nInfo: {}",
        "he": "✅ **קקי נרשם ב-{}!**\nמידע: {}"
    },
    
    # Delete bottle
    "delete_no_bottles": {
        "fr": "❌ Aucun biberon à supprimer dans votre groupe pour le moment.",
        "en": "❌ No bottles to delete in your group at the moment.",
        "he": "❌ אין בקבוקים למחיקה בקבוצה שלך כרגע."
    },
    "delete_confirmation": {
        "fr": "🗑️ **Confirmer la suppression** ⚠️\n\nVoulez-vous vraiment supprimer ce biberon ?\n\n**🍼 Dernier biberon :**\n• 📅 Date : {}\n• 🕐 Heure : {}\n• 🍼 Quantité : {}ml",
        "en": "🗑️ **Confirm deletion** ⚠️\n\nDo you really want to delete this bottle?\n\n**🍼 Last bottle:**\n• 📅 Date: {}\n• 🕐 Time: {}\n• 🍼 Quantity: {}ml",
        "he": "🗑️ **אשר מחיקה** ⚠️\n\nהאם אתה באמת רוצה למחוק את הבקבוק הזה?\n\n**🍼 בקבוק אחרון:**\n• 📅 תאריך: {}\n• 🕐 שעה: {}\n• 🍼 כמות: {}מ\"ל"
    },
    "btn_yes_delete": {"fr": "✅ Oui, supprimer", "en": "✅ Yes, delete", "he": "✅ כן, מחק"},
    "btn_no_cancel": {"fr": "❌ Non, annuler", "en": "❌ No, cancel", "he": "❌ לא, בטל"},
    "delete_success": {
        "fr": "✅ **Biberon supprimé avec succès !** 🗑️\n\nSupprimé : {}ml à {}",
        "en": "✅ **Bottle successfully deleted!** 🗑️\n\nDeleted: {}ml at {}",
        "he": "✅ **הבקבוק נמחק בהצלחה!** 🗑️\n\nנמחק: {}מ\"ל ב-{}"
    },
    
    # Statistics
    "stats_title": {
        "fr": "📊 **Statistiques des 5 derniers jours** 📈\n\n",
        "en": "📊 **Statistics of the last 5 days** 📈\n\n",
        "he": "📊 **סטטיסטיקה של 5 הימים האחרונים** 📈\n\n"
    },
    "stats_summary": {
        "fr": "**📋 Résumé 5 jours :**\n• 🍼 {} biberons\n• 📏 {}ml au total\n• 💩 {} changements\n• 📈 Moyenne : {}ml/jour\n\n",
        "en": "**📋 5-day summary:**\n• 🍼 {} bottles\n• 📏 {}ml total\n• 💩 {} changes\n• 📈 Average: {}ml/day\n\n",
        "he": "**📋 סיכום 5 ימים:**\n• 🍼 {} בקבוקים\n• 📏 {}מ\"ל סה\"כ\n• 💩 {} החלפות\n• 📈 ממוצע: {}מ\"ל/יום\n\n"
    },
    "stats_daily_detail": {
        "fr": "**📅 Détail par jour :**\n",
        "en": "**📅 Daily detail:**\n",
        "he": "**📅 פירוט יומי:**\n"
    },
    "stats_ai_loading": {
        "fr": "\n🤖 **Analyse IA :**\n⏳ Génération en cours...",
        "en": "\n🤖 **AI Analysis:**\n⏳ Generating...",
        "he": "\n🤖 **ניתוח בינה מלאכותית:**\n⏳ מייצר..."
    },
    "stats_day_format": {
        "fr": "`{} ({}) : {} biberons, {}ml, {} changements`\n",
        "en": "`{} ({}) : {} bottles, {}ml, {} changes`\n",
        "he": "`{} ({}) : {} בקבוקים, {}מ\"ל, {} החלפות`\n"
    },
    "Mon": {"fr": "Lun", "en": "Mon", "he": "ראשון"},
    "Tue": {"fr": "Mar", "en": "Tue", "he": "שני"},
    "Wed": {"fr": "Mer", "en": "Wed", "he": "שלישי"},
    "Thu": {"fr": "Jeu", "en": "Thu", "he": "רביעי"},
    "Fri": {"fr": "Ven", "en": "Fri", "he": "חמישי"},
    "Sat": {"fr": "Sam", "en": "Sat", "he": "שישי"},
    "Sun": {"fr": "Dim", "en": "Sun", "he": "שבת"},
    
    # Settings
    "settings_title": {
        "fr": "⚙️ **Paramètres de votre suivi** 🔧\n\n",
        "en": "⚙️ **Your tracking settings** 🔧\n\n",
        "he": "⚙️ **הגדרות המעקב שלך** 🔧\n\n"
    },
    "settings_display": {
        "fr": "**📱 Affichage principal :**\n• 🍼 Biberons affichés : {}\n• 💩 Changements de couches affichés : {}\n• 🍼 Taille du  biberon : {}ml\n\n",
        "en": "**📱 Main display:**\n• 🍼 Bottles displayed: {}\n• 💩 Diaper changes displayed: {}\n• 🍼 Bottle size: {}ml\n\n",
        "he": "**📱 תצוגה ראשית:**\n• 🍼 בקבוקים מוצגים: {}\n• 💩 החלפות חיתול מוצגות: {}\n• 🍼 גודל בקבוק: {}מ\"ל\n\n"
    },
    "settings_timezone": {
        "fr": "**🕐 Fuseau horaire :**\n• ⏰ Décalage : {}h\n• 🕐 Heure actuelle : {}\n\n",
        "en": "**🕐 Timezone:**\n• ⏰ Offset: {}h\n• 🕐 Current time: {}\n\n",
        "he": "**🕐 אזור זמן:**\n• ⏰ הפרש: {}ש\n• 🕐 שעה נוכחית: {}\n\n"
    },
    "pin_message": {
        "fr": "**Pensez à epingler le bot dans les paramètres telegram**\n\n",
        "en": "**Think to pin the bot in telegram setting**\n\n",
        "he": "**חשבו לנעוץ את הבוט בהגדרות טלגרם**\n\n"
    },

    "settings_modify": {
        "fr": "**🔧 Modifier les paramètres :**",
        "en": "**🔧 Modify settings:**",
        "he": "**🔧 שנה הגדרות:**"
    },
    "btn_bottles_count": {"fr": "🍼 Biberons : {}", "en": "🍼 Bottles: {}", "he": "🍼 בקבוקים: {}"},
    "btn_poops_count": {"fr": "💩 Couches: {}", "en": "💩 Changes: {}", "he": "💩 החלפות: {}"},
    "btn_bottle_size": {"fr": "🍼 Taille biberon", "en": "🍼 Bottle size", "he": "🍼 גודל בקבוק"},
    "btn_change_time": {"fr": "🕐 Changer l'heure", "en": "🕐 Change time", "he": "🕐 שנה שעה"},
    "btn_groups": {"fr": "👥 Groupes", "en": "👥 Groups", "he": "👥 קבוצות"},
    "btn_return_settings": {"fr": "🔧 Retour aux paramètres", "en": "🔧 Back to settings", "he": "🔧 חזור להגדרות"},
    
    # Bottle count settings
    "bottles_count_question": {
        "fr": "🍼 **Combien de biberons souhaitez-vous voir affichés ?**",
        "en": "🍼 **How many bottles do you want to see displayed?**",
        "he": "🍼 **כמה בקבוקים אתה רוצה לראות מוצגים?**"
    },
    "poops_count_question": {
        "fr": "💩 **Combien de changements souhaitez-vous voir affichés ?**",
        "en": "💩 **How many changes do you want to see displayed?**",
        "he": "💩 **כמה החלפות אתה רוצה לראות מוצגות?**"
    },
    
    # Timezone settings
    "timezone_title": {
        "fr": "🕐 **Configuration de l'heure** ⏰\n\n**🕐 Heure actuellement enregistrée :** {}\n**🌍 Heure UTC du serveur :** {}\n\n**Quelle heure est-il chez vous actuellement ?**",
        "en": "🕐 **Time configuration** ⏰\n\n**🕐 Currently recorded time:** {}\n**🌍 Server UTC time:** {}\n\n**What time is it at your place currently?**",
        "he": "🕐 **הגדרת שעה** ⏰\n\n**🕐 שעה נרשמת כרגע:** {}\n**🌍 שעת שרת UTC:** {}\n\n**מה השעה אצלך כרגע?**"
    },
    "btn_manual_input": {"fr": "✏️ Saisir manuellement", "en": "✏️ Enter manually", "he": "✏️ הקלד ידנית"},
    "timezone_manual_input": {
        "fr": "✏️ **Saisissez l'heure locale au format HH:MM (ex: 14:30)**",
        "en": "✏️ **Enter local time in HH:MM format (ex: 14:30)**",
        "he": "✏️ **הקלד שעה מקומית בפורמט HH:MM (לדוגמה: 14:30)**"
    },
    "timezone_success": {
        "fr": "✅ **Heure mise à jour avec succès !**\n\n**Votre heure:** {}\n**Heure UTC:** {}\n**Décalage calculé:** {}h\n\n🕐 L'heure du bot est maintenant synchronisée avec votre fuseau horaire.",
        "en": "✅ **Time updated successfully!**\n\n**Your time:** {}\n**UTC time:** {}\n**Calculated offset:** {}h\n\n🕐 The bot's time is now synchronized with your timezone.",
        "he": "✅ **השעה עודכנה בהצלחה!**\n\n**השעה שלך:** {}\n**שעת UTC:** {}\n**הפרש מחושב:** {}ש\n\n🕐 שעת הבוט מסונכרנת כעת עם אזור הזמן שלך."
    },
    "timezone_error": {
        "fr": "❌ **Erreur:** Format d'heure invalide.\n\n**Format attendu:** HH:MM ou H:MM\n**Exemples:** 14:30, 7:30",
        "en": "❌ **Error:** Invalid time format.\n\n**Expected format:** HH:MM or H:MM\n**Examples:** 14:30, 7:30",
        "he": "❌ **שגיאה:** פורמט שעה לא תקין.\n\n**פורמט צפוי:** HH:MM או H:MM\n**דוגמאות:** 14:30, 7:30"
    },
    "timezone_manual_error": {
        "fr": "❌ **Erreur:** le format de l'heure est invalide\n\n**Format attendu:** HH:MM ou H:MM\n**Exemples:** 14:30, 7:30\n\nveuillez réessayer en entrant l'heure au format attendu",
        "en": "❌ **Error:** the time format is invalid\n\n**Expected format:** HH:MM or H:MM\n**Examples:** 14:30, 7:30\n\nplease try again by entering the time in the expected format",
        "he": "❌ **שגיאה:** פורמט השעה לא תקין\n\n**פורמט צפוי:** HH:MM או H:MM\n**דוגמאות:** 14:30, 7:30\n\nאנא נסה שוב על ידי הקלדת השעה בפורמט הצפוי"
    },
    
    # Bottle size settings
    "bottle_size_question": {
        "fr": "🍼 **Définir la quantité du biberon (ml)**\n\nActuel : {}ml\n\nChoisissez une valeur ou saisissez-la manuellement.",
        "en": "🍼 **Set bottle quantity (ml)**\n\nCurrent: {}ml\n\nChoose a value or enter it manually.",
        "he": "🍼 **הגדר כמות בקבוק (מ\"ל)**\n\nנוכחי: {}מ\"ל\n\nבחר ערך או הקלד אותו ידנית."
    },
    "bottle_size_success": {
        "fr": "✅ Taille du biberon mise à jour : {}ml",
        "en": "✅ Bottle size updated: {}ml",
        "he": "✅ גודל הבקבוק עודכן: {}מ\"ל"
    },
    "bottle_size_error": {
        "fr": "❌ Merci d'entrer une valeur numérique valide (ex: 120).",
        "en": "❌ Please enter a valid numeric value (ex: 120).",
        "he": "❌ אנא הקלד ערך מספרי תקין (לדוגמה: 120)."
    },
    # Language settings
    "btn_language": {"fr": "🌐 Langue", "en": "🌐 Language", "he": "🌐 שפה"},

    "language_question": {
        "fr": "🌐 **Choisissez votre langue**\n\n",
        "en": "🌐 **Choose your language**\n\n",
        "he": "🌐 **בחר את השפה שלך**\n\n"
    }, 
 
    # Groups
    "groups_title": {
        "fr": "👥 **Gestion des Groupes** 🏘️\n\n",
        "en": "👥 **Group Management** 🏘️\n\n",
        "he": "👥 **ניהול קבוצות** 🏘️\n\n"
    },
    "groups_current": {
        "fr": "**🏠 Groupe actuel :** `{}`\n**🆔 id du groupe :** ||{}||\n**👤 Membres :** {}\n",
        "en": "**🏠 Current group:** `{}`\n**🆔 Group ID:** ||{}||\n**👤 Members:** {}\n",
        "he": "**🏠 קבוצה נוכחית:** `{}`\n**🆔 מזהה קבוצה:** ||{}|| \n**👤 חברים:** {}\n"
    },
    "groups_personal": {
        "fr": "\n*Vous êtes dans un groupe personnel* 👤\n",
        "en": "\n*You are in a personal group* 👤\n",
        "he": "\n*אתה בקבוצה אישית* 👤\n"
    },
    "groups_shared": {
        "fr": "\n*Vous êtes dans un groupe partagé* 👥\n",
        "en": "\n*You are in a shared group* 👥\n",
        "he": "\n*אתה בקבוצה משותפת* 👥\n"
    },
    "btn_rename_group": {"fr": "✏️ Renommer le groupe", "en": "✏️ Rename group", "he": "✏️ שנה שם קבוצה"},
    "btn_join_group": {"fr": "🔗 Rejoindre un groupe", "en": "🔗 Join a group", "he": "🔗 הצטרף לקבוצה"},
    "btn_create_group": {"fr": "➕ Créer un groupe", "en": "➕ Create a group", "he": "➕ צור קבוצה"},
    "btn_leave_group": {"fr": "🚪 Quitter le groupe", "en": "🚪 Leave group", "he": "🚪 עזוב קבוצה"},
    
    # Group rename
    "rename_group_title": {
        "fr": "✏️ **Renommer le groupe** 🏷️\n\nGroupe actuel : `{}`\n\n*Tapez le nouveau nom du groupe :*\n• 3-20 caractères\n• Lettres, chiffres, espaces, tirets\n• Pas de caractères spéciaux",
        "en": "✏️ **Rename group** 🏷️\n\nCurrent group: `{}`\n\n*Type the new group name:*\n• 3-20 characters\n• Letters, numbers, spaces, dashes\n• No special characters",
        "he": "✏️ **שנה שם קבוצה** 🏷️\n\nקבוצה נוכחית: `{}`\n\n*הקלד את שם הקבוצה החדש:*\n• 3-20 תווים\n• אותיות, מספרים, רווחים, מקפים\n• אין תווים מיוחדים"
    },
    "rename_group_error": {
        "fr": "❌ **Nom invalide**\n\nLe nom doit contenir 3-20 caractères et ne peut contenir que des lettres, chiffres, espaces et tirets. \n Veuillez réessayer.",
        "en": "❌ **Invalid name**\n\nThe name must contain 3-20 characters and can only contain letters, numbers, spaces and dashes.\nPlease try again.",
        "he": "❌ **שם לא תקין**\n\nהשם חייב להכיל 3-20 תווים ויכול להכיל רק אותיות, מספרים, רווחים ומקפים.\nאנא נסה שוב."
    },
    "rename_group_success": {
        "fr": "✅ **Groupe renommé avec succès !**\n\nLe groupe a été renommé en `{}`\n\n{}",
        "en": "✅ **Group renamed successfully!**\n\nThe group has been renamed to `{}`\n\n{}",
        "he": "✅ **הקבוצה שונתה בהצלחה!**\n\nהקבוצה שונתה ל`{}`\n\n{}"
    },
    "btn_back": {"fr": "⬅️ Retour", "en": "⬅️ Back", "he": "⬅️ חזור"},
    
    # Group join
    "join_group_title": {
        "fr": "🔗 **Rejoindre un groupe** 👥\n\n*Tapez le nom exact du groupe à rejoindre :*\n• Le nom doit correspondre exactement\n• Respectez les majuscules/minuscules\n• Le groupe doit exister",
        "en": "🔗 **Join a group** 👥\n\n*Type the exact name of the group to join:*\n• The name must match exactly\n• Respect uppercase/lowercase\n• The group must exist",
        "he": "🔗 **הצטרף לקבוצה** 👥\n\n*הקלד את השם המדויק של הקבוצה להצטרפות:*\n• השם חייב להתאים בדיוק\n• כבד אותיות גדולות/קטנות\n• הקבוצה חייבת להתקיים"
    },
    "join_group_not_found": {
        "fr": "❌ **Groupe non trouvé**\n\nLe groupe '{}' n'existe pas.\nVérifiez le nom et réessayez.",
        "en": "❌ **Group not found**\n\nThe group '{}' does not exist.\nCheck the name and try again.",
        "he": "❌ **הקבוצה לא נמצאה**\n\nהקבוצה '{}' לא קיימת.\nבדוק את השם ונסה שוב."
    },
    "join_group_success": {
        "fr": "✅ **Groupe rejoint avec succès !**\n\nVous êtes maintenant dans le groupe : `{}`\n\n{}",
        "en": "✅ **Group joined successfully!**\n\nYou are now in the group: `{}`\n\n{}",
        "he": "✅ **הצטרפת לקבוצה בהצלחה!**\n\nאתה כעת בקבוצה: `{}`\n\n{}"
    },
    "join_group_already_member": {
        "fr": "❌ **Vous êtes déjà dans le groupe**\n\nVous êtes déjà dans le groupe : `{}`",
        "en": "❌ **You are already in the group**\n\nYou are already in the group: `{}`",
        "he": "❌ **אתה כבר בקבוצה**\n\nאתה כבר בקבוצה: `{}`"
    },
    "join_group_id_check": {
        "fr": "ℹ️ **entrez l'id du groupe `{}` pour rejoindre le groupe.**",
        "en": "ℹ️ **enter the id of the group `{}` to join the group.**",
        "he": "ℹ️ **הזן את המזהה של הקבוצה `{}` כדי להצטרף לקבוצה.**"
    },
    "join_group_id_incorrect": {
        "fr": "❌ **l'id du groupe est incorrect, veuillez réessayer.\n\n**",
        "en": "❌ **the group id is incorrect, please try again.\n\n**",
        "he": "❌ **המזהה של הקבוצה אינו תקין, אנא נסה שנית.\n\n**"
    },
    
    
    # Group create
    "create_group_title": {
        "fr": "➕ **Créer un nouveau groupe** 🆕\n\n*Tapez le nom du nouveau groupe :*\n• 3-20 caractères\n• Lettres, chiffres, espaces, tirets\n• Pas de caractères spéciaux\n• Nom unique requis",
        "en": "➕ **Create a new group** 🆕\n\n*Type the name of the new group:*\n• 3-20 characters\n• Letters, numbers, spaces, dashes\n• No special characters\n• Unique name required",
        "he": "➕ **צור קבוצה חדשה** 🆕\n\n*הקלד את שם הקבוצה החדשה:*\n• 3-20 תווים\n• אותיות, מספרים, רווחים, מקפים\n• אין תווים מיוחדים\n• שם ייחודי נדרש"
    },
    "create_group_exists": {
        "fr": "❌ **Nom déjà utilisé**\n\nLe groupe '{}' existe déjà.\nVeuillez choisir un autre nom.",
        "en": "❌ **Name already used**\n\nThe group '{}' already exists.\nPlease choose another name.",
        "he": "❌ **השם כבר בשימוש**\n\nהקבוצה '{}' כבר קיימת.\nאנא בחר שם אחר."
    },
    "create_group_success": {
        "fr": "✅ **Groupe créé avec succès !**\n\nNouveau groupe : `{}`\nVous êtes maintenant le propriétaire de ce groupe. {}",
        "en": "✅ **Group created successfully!**\n\nNew group: `{}`\nYou are now the owner of this group. {}",
        "he": "✅ **הקבוצה נוצרה בהצלחה!**\n\nקבוצה חדשה: `{}`\nאתה כעת הבעלים של הקבוצה הזו. {}"
    },
    "create_group_invalid_name": {
        "fr": "❌ **Nom invalide**\n\nLe nom doit contenir 3-20 caractères et ne peut contenir que des lettres, chiffres, espaces et tirets. \n Veuillez réessayer.",
        "en": "❌ **Invalid name**\n\nThe name must contain 3-20 characters and can only contain letters, numbers, spaces and dashes.\nPlease try again.",
        "he": "❌ **שם לא תקין**\n\nהשם חייב להכיל 3-20 תווים ויכול להכיל רק אותיות, מספרים, רווחים ומקפים.\nאנא נסה שוב."
    },
    
    # Group leave
    "leave_group_confirm": {
        "fr": "🚪 **Quitter le groupe**\n\nÊtes-vous sûr de vouloir quitter le groupe '{}' ?\n\n⚠️ **Attention :** Vous ne pourrez plus accéder aux données de ce groupe.",
        "en": "🚪 **Leave group**\n\nAre you sure you want to leave the group '{}'?\n\n⚠️ **Warning:** You will no longer be able to access this group's data.",
        "he": "🚪 **עזוב קבוצה**\n\nהאם אתה בטוח שאתה רוצה לעזוב את הקבוצה '{}'?\n\n⚠️ **אזהרה:** לא תוכל עוד לגשת לנתונים של הקבוצה הזו."
    },
    "leave_group_success": {
        "fr": "✅ **Groupe quitté avec succès !**\n\nUn nouveau groupe personnel a été créé pour vous. {}",
        "en": "✅ **Group left successfully!**\n\nA new personal group has been created for you. {}",
        "he": "✅ **עזבת את הקבוצה בהצלחה!**\n\nקבוצה אישית חדשה נוצרה עבורך. {}"
    },
    
    # PDF
    "pdf_title": {
        "fr": "📄 **Génération de rapport PDF** 📊\n\nChoisissez la période pour votre rapport :",
        "en": "📄 **PDF Report Generation** 📊\n\nChoose the period for your report:",
        "he": "📄 **יצירת דוח PDF** 📊\n\nבחר את התקופה עבור הדוח שלך:"
    },
    "btn_7_days": {"fr": "📅 7 jours", "en": "📅 7 days", "he": "📅 7 ימים"},
    "btn_14_days": {"fr": "📅 14 jours", "en": "📅 14 days", "he": "📅 14 ימים"},
    "btn_30_days": {"fr": "📅 30 jours", "en": "📅 30 days", "he": "📅 30 ימים"},
    "pdf_language": {
        "fr": "🌍 **Choisissez la langue du rapport :**",
        "en": "🌍 **Choose the report language:**",
        "he": "🌍 **בחר את שפת הדוח:**"
    },
    "btn_french": {"fr": "🇫🇷 Français", "en": "🇫🇷 French", "he": "🇫🇷 צרפתית"},
    "btn_english": {"fr": "🇬🇧 English", "en": "🇬🇧 English", "he": "🇬🇧 אנגלית"},
    "btn_hebrew": {"fr": "🇮🇱 עברית", "en": "🇮🇱 Hebrew", "he": "🇮🇱 עברית"},
    "pdf_generating": {
        "fr": "📄 **Génération du rapport en cours...**\n\n⏳ Veuillez patienter...",
        "en": "📄 **Generating report...**\n\n⏳ Please wait...",
        "he": "📄 **מייצר דוח...**\n\n⏳ אנא המתן..."
    },
    "pdf_success": {
        "fr": "✅ **Rapport généré avec succès !** 📄\n\nVotre rapport PDF est prêt.",
        "en": "✅ **Report generated successfully!** 📄\n\nYour PDF report is ready.",
        "he": "✅ **הדוח נוצר בהצלחה!** 📄\n\nדוח ה-PDF שלך מוכן."
    },
    "pdf_error": {
        "fr": "❌ **Erreur lors de la génération du rapport**\n\nVeuillez réessayer plus tard.",
        "en": "❌ **Error generating report**\n\nPlease try again later.",
        "he": "❌ **שגיאה ביצירת הדוח**\n\nאנא נסה שוב מאוחר יותר."
    },
    
    # Shabbat
    "shabbat_friday_poop": {
        "fr": "🕯️ **Shabbat**\n\nCombien de cacas ont eu lieu vendredi soir (après le début du shabbat) ?",
        "en": "🕯️ **Shabbat**\n\nHow many poops happened Friday evening (after Shabbat began)?",
        "he": "🕯️ **שבת**\n\nכמה החלפות חיתול היו ביום שישי בערב (אחרי תחילת השבת)?"
    },
    "shabbat_friday_bottle": {
        "fr": "🕯️ **Shabbat**\n\nQuelle quantité totale de lait a été bue vendredi soir (en ml) ?",
        "en": "🕯️ **Shabbat**\n\nWhat total amount of milk was drunk Friday evening (in ml)?",
        "he": "🕯️ **שבת**\n\nאיזו כמות כוללת של חלב נשתתה ביום שישי בערב (במ\"ל)?"
    },
    "shabbat_saturday_poop": {
        "fr": "🕯️ **Shabbat**\n\nCombien de cacas ont eu lieu samedi (avant la fin du shabbat) ?",
        "en": "🕯️ **Shabbat**\n\nHow many poops happened Saturday (before Shabbat ended)?",
        "he": "🕯️ **שבת**\n\nכמה החלפות חיתול היו בשבת (לפני סיום השבת)?"
    },
    "shabbat_saturday_bottle": {
        "fr": "🕯️ **Shabbat**\n\nQuelle quantité totale de lait a été bue samedi (en ml) ?",
        "en": "🕯️ **Shabbat**\n\nWhat total amount of milk was drunk Saturday (in ml)?",
        "he": "🕯️ **שבת**\n\nאיזו כמות כוללת של חלב נשתתה בשבת (במ\"ל)?"
    },
    "shabbat_success": {
        "fr": "✅ Les valeurs Shabbat ont bien été enregistrées !\n\n{}",
        "en": "✅ Shabbat values have been successfully recorded!\n\n{}",
        "he": "✅ ערכי השבת נרשמו בהצלחה!\n\n{}"
    },
    "shabbat_invalid_number": {
        "fr": "❌ Merci d'entrer un nombre valide de cacas (ex: 2).",
        "en": "❌ Please enter a valid number of poops (ex: 2).",
        "he": "❌ אנא הקלד מספר תקין של החלפות (לדוגמה: 2)."
    },
    "shabbat_invalid_amount": {
        "fr": "❌ Merci d'entrer une quantité valide (en ml, ex: 150).",
        "en": "❌ Please enter a valid amount (in ml, ex: 150).",
        "he": "❌ אנא הקלד כמות תקינה (במ\"ל, לדוגמה: 150)."
    },
    
    # Help
    "help_title": {
        "fr": "👋 **Baby Bottle Tracker Bot** 🍼\n\n",
        "en": "👋 **Baby Bottle Tracker Bot** 🍼\n\n",
        "he": "👋 **בוט מעקב בקבוק תינוק** 🍼\n\n"
    },
    "help_features": {
        "fr": "**✨ Fonctionnalités principales :**\n• 🍼 Ajouter/supprimer des biberons\n• 💩 ajouter des cacas\n• 📊 Voir les statistiques\n• ⚙️ Paramètres personnalisables\n\n",
        "en": "**✨ Main features:**\n• 🍼 Add/delete bottles\n• 💩 Add poops\n• 📊 View statistics\n• ⚙️ Customizable settings\n\n",
        "he": "**✨ תכונות עיקריות:**\n• 🍼 הוסף/מחק בקבוקים\n• 💩 הוסף החלפות חיתול\n• 📊 צפה בסטטיסטיקה\n• ⚙️ הגדרות מותאמות אישית\n\n"
    },
    "help_usage": {
        "fr": "**🎯 Utilisation :**\nUtilisez les boutons dans le message principal pour naviguer.\nToutes les actions se font dans le même message !",
        "en": "**🎯 Usage:**\nUse the buttons in the main message to navigate.\nAll actions are done in the same message!",
        "he": "**🎯 שימוש:**\nהשתמש בכפתורים בהודעה הראשית כדי לנווט.\nכל הפעולות מתבצעות באותה הודעה!"
    },
    "btn_return": {"fr": "🏠 Retour", "en": "🏠 Return", "he": "🏠 חזור"},
    
    # Text input help
    "help_no_input": {
        "fr": "💡 **aucune saisie n'est requise**\n\n• ⚙️ utilisez les boutons pour interagir avec le bot !",
        "en": "💡 **no input required**\n\n• ⚙️ use the buttons to interact with the bot!",
        "he": "💡 **אין צורך בקלט**\n\n• ⚙️ השתמש בכפתורים כדי לתקשר עם הבוט!"
    },
    
    # Operation cancelled
    "operation_cancelled": {
        "fr": "❌ Opération annulée.",
        "en": "❌ Operation cancelled.",
        "he": "❌ הפעולה בוטלה."
    },
    
    # Commands
    "cmd_start": {"fr": "Démarrer le bot", "en": "Start the bot", "he": "התחל את הבוט"},
    "cmd_help": {"fr": "Afficher l'aide", "en": "Show help", "he": "הצג עזרה"},

    # PDF menu
    "pdf_menu": {
        "fr": "📄 **Téléchargement PDF - Rapport Hebdomadaire**\n\nChoisissez la période pour votre rapport :\n\n• 📊 **7 derniers jours** - Rapport complet de la semaine\n• 📈 **30 derniers jours** - Vue d'ensemble mensuelle\n\nLe PDF contiendra :\n✅ Tous les biberons avec heures et quantités\n✅ Tous les changements de couche\n✅ Statistiques détaillées\n✅ **Courbe de consommation quotidienne** 📈\n✅ Traduction automatique des notes\n✅ Liste chronologique mixte\n\n🌍 **Langues disponibles :** Français, Anglais, Hebreu",
        "en": "📄 **PDF Report Generation** 📊\n\nChoose the period for your report :\n\n• 📊 **7 last days** - Complete weekly report\n• 📈 **30 last days** - Monthly overview\n\nThe PDF will contain :\n✅ All bottles with hours and quantities\n✅ All diaper changes\n✅ Detailed statistics\n✅ **Daily consumption chart** 📈\n✅ Automatic translation of notes\n✅ Mixed chronological list\n\n🌍 **Available languages :** French, English, Hebrew",
        "he": "📄 **יצירת דוח PDF** 📊\n\nבחר את התקופה עבור הדוח שלך:\n\n• 📊 **7 ימים אחרונים** - דוח שבועי מלא\n• 📈 **30 ימים אחרונים** - תצוגה מצומצמת חודשית\n\nה-PDF יכיל :\n✅ כל הבקבוקים עם שעות וכמויות\n✅ כל החלפות בקבוק\n✅ סטטיסטיקה מפורטת\n✅ **גרף צריכת יומית** 📈\n✅ תרגום אוטומטי של הערות\n✅ רשימה זמנית מעורבת\n\n🌍 **שפות זמינות :** צרפתית, אנגלית, עברית"
    },
    "pdf_menu_7_days": {"fr": "📊 7 derniers jours", "en": "📊 7 last days", "he": "📊 7 ימים אחרונים"},
    "pdf_menu_30_days": {"fr": "📈 30 derniers jours", "en": "📈 30 last days", "he": "📈 30 ימים אחרונים"},
    
    "pdf_lang_selection": {
        "fr": "🌍 **Sélection de la langue pour le rapport {days} jours**\n\nChoisissez la langue dans laquelle vous souhaitez générer le PDF :\n\n🇫🇷 **Français** - version française\n🇺🇸 **English** - version anglaise\n🇮🇱 **עברית** - גרסה עברית\n\n💡 Les notes personnalisées seront traduites automatiquement par IA.",
        "en": "🌍 **Language selection for {days} days report**\n\nChoose the language in which you want to generate the PDF :\n\n🇫🇷 **Français** - French version\n🇺🇸 **English** - English version\n🇮🇱 **עברית** - גרסה עברית\n\n💡 The personalized notes will be automatically translated by AI.",
        "he": "🌍 **בחירת שפה לדוח {days} ימים**\n\nבחר את השפה בה ברצונך לייצר את ה-PDF :\n\n🇫🇷 **צרפתית** - גרסה צרפתית\n🇺🇸 **אנגלית** - גרסה אנגלית\n🇮🇱 **עברית** - גרסה עברית\n\n💡 הערות מותאמות אישית יתרגמו אוטומטית על ידי ה-AI."
    },
    "pdf_lang_fr": {"fr": "🇫🇷 Français", "en": "🇫🇷 French", "he": "🇫🇷 צרפתית"},
    "pdf_lang_en": {"fr": "🇺🇸 English", "en": "🇺🇸 English", "he": "🇺🇸 אנגלית"},
    "pdf_lang_he": {"fr": "🇮🇱 עברית", "en": "🇮🇱 Hebrew", "he": "🇮🇱 עברית"},
    
    # Success messages
    "success": {"fr": "✅", "en": "✅", "he": "✅"},
    "error": {"fr": "❌", "en": "❌", "he": "❌"},
    "warning": {"fr": "⚠️", "en": "⚠️", "he": "⚠️"},
    "info": {"fr": "ℹ️", "en": "ℹ️", "he": "ℹ️"},


}

def t(key: str, language: str = "fr", *args) -> str:
    """
    Translation function that returns the translated text for a given key and language.
    
    Args:
        key: The translation key
        language: The language code ("fr", "en", "he")
        *args: Arguments to format into the string (if the translation contains {} placeholders)
    
    Returns:
        The translated string, or the key if translation not found
    """
    if key not in TRANSLATIONS:
        print(f"Warning: Translation key '{key}' not found")
        return key
    
    if language not in TRANSLATIONS[key]:
        print(f"Warning: Language '{language}' not found for key '{key}'")
        # Fallback to French
        language = "fr"
    
    translation = TRANSLATIONS[key][language]
    
    # If there are format arguments, apply them
    if args:
        try:
            return translation.format(*args)
        except Exception as e:
            print(f"Error formatting translation for key '{key}': {e}")
            return translation
    
    return translation
